<?xml version="1.0"?>
<root>
  <item>
    <name>Window Management</name>

    <!-- Move window to space -->
    <item>
      <name>Move window to space</name>
      <appendix>Moves window to spaces with Shift + Hyper + #.</appendix>
      <identifier>custom.mission_control_hacks</identifier>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_1,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L,

        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right,
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
        KeyCode::KEY_1, {{ MODIFIER_FLAG_HYPER }},
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_2,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L,

        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right,
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
        KeyCode::KEY_2, {{ MODIFIER_FLAG_HYPER }},
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_3,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L,

        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right,
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
        KeyCode::KEY_3, {{ MODIFIER_FLAG_HYPER }},
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_4,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L,

        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right,
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
        KeyCode::KEY_4, {{ MODIFIER_FLAG_HYPER }},
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_MOUSEKEY_LOCK_BUTTON_LEFT,
      </autogen>
    </item>

    <!-- Hyper + Comma/Period to Left/Right Brackets

         By default the Hyper + Comma/Period keyboard shortcuts should move
         focus to different screens (a la AwesomeWM, DWM, etc.). Additionally,
         we Shift + Hyper + Comma/Period to move windows across different
         screens, but this is activates sysdiagnose by default. We can't disable
         this binding, so we need map the Hyper + Comma/Period shortcuts to
         something else. Slate should bind to Hyper + Left/Right Brackets
         instead of Hyper + Comma/Period.
    -->
    <item>
      <name>Slate: Hyper + Comma/Period to Left/Right Brackets</name>
      <appendix>Workaround for binding sysdiagnose shortcuts to move window between screens.</appendix>
      <identifier>custom.override_sysdiagnose_shortcuts</identifier>
      <autogen>
        __KeyToKey__
        KeyCode::COMMA,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::NONE,

        KeyCode::BRACKET_LEFT,
        {{ MODIFIER_FLAG_HYPER }},
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::DOT,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::NONE,

        KeyCode::BRACKET_RIGHT,
        {{ MODIFIER_FLAG_HYPER }},
        KeyCode::VK_WAIT_50MS,
        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::COMMA,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L | ModifierFlag::NONE,

        KeyCode::BRACKET_LEFT,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L,
        KeyCode::VK_WAIT_100MS,
        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::DOT,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L | ModifierFlag::NONE,

        KeyCode::BRACKET_RIGHT,
        {{ MODIFIER_FLAG_HYPER }} | ModifierFlag::SHIFT_L,
        KeyCode::VK_WAIT_100MS,
        KeyCode::VK_OPEN_URL_SHELL_warp_mouse_cursor_position_front_window_top_right
      </autogen>
    </item>

    <!-- Use option instead of command for switching applications -->
    <item>
      <name>Option-based window switching</name>
      <appendix>Option + tab to open application switcher</appendix>
      <appendix>Option + backtick to focus on next window</appendix>
      <identifier>custom.option_based_window_switching</identifier>
      <autogen>
        __KeyToKey__
        KeyCode::TAB,
        ModifierFlag::OPTION_L | ModifierFlag::NONE,

        KeyCode::TAB,
        ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::BACKQUOTE,
        ModifierFlag::OPTION_L | ModifierFlag::NONE,

        KeyCode::BACKQUOTE,
        ModifierFlag::COMMAND_L
      </autogen>
    </item>
  </item>
</root>
