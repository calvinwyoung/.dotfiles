<?xml version="1.0"?>
<root>
  <item>
    <name>Application-Specific Keybindings</name>

    <!-- Application launchers -->
    <item>
      <name>Application Launchers</name>
      <appendix>Hyper + ` to open Finder</appendix>
      <appendix>Hyper + Return to open iTerm</appendix>
      <appendix>Hyper + E to open Emacs</appendix>
      <appendix>Hyper + W to open Chrome</appendix>
      <appendix>Hyper + S to open KeePassX</appendix>
      <identifier>custom.application_launchers</identifier>

      <!-- Define special keycodes for launching apps -->
      <vkopenurldef>
        <name>KeyCode::VK_OPEN_URL_APP_Finder</name>
        <url type="file">/Applications/Path Finder.app</url>
      </vkopenurldef>
      <vkopenurldef>
        <name>KeyCode::VK_OPEN_URL_APP_iTerm</name>
        <url type="file">/Applications/iTerm.app</url>
      </vkopenurldef>
      <vkopenurldef>
        <name>KeyCode::VK_OPEN_URL_APP_Chrome</name>
        <url type="file">/Applications/Google Chrome.app</url>
      </vkopenurldef>
      <vkopenurldef>
        <name>KeyCode::VK_OPEN_URL_APP_Emacs</name>
        <url type="file">/Applications/Emacs.app</url>
      </vkopenurldef>
      <vkopenurldef>
        <name>KeyCode::VK_OPEN_URL_APP_KeePassX</name>
        <url type="file">/Applications/KeePassX.app</url>
      </vkopenurldef>

      <!-- Then define the actual applicaton launcher shortcuts. -->
      <autogen>
        __KeyToKey__
        KeyCode::BACKQUOTE, {{ MODIFIER_FLAG_HYPER }},

        KeyCode::VK_OPEN_URL_APP_Finder
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::RETURN, {{ MODIFIER_FLAG_HYPER }},

        KeyCode::VK_OPEN_URL_APP_iTerm
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::E, {{ MODIFIER_FLAG_HYPER }},

        KeyCode::VK_OPEN_URL_APP_Emacs
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::W, {{ MODIFIER_FLAG_HYPER }},

        KeyCode::VK_OPEN_URL_APP_Chrome
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::S, {{ MODIFIER_FLAG_HYPER }},

        KeyCode::VK_OPEN_URL_APP_KeePassX
      </autogen>
    </item>

    <!-- Enables Control + # for selecting specific tabs -->
    <item>
      <name>Control-based Tab Navigation</name>
      <appendix>Ctrl + [1-9] to Command + [1-9]</appendix>
      <appendix>(Only in Terminal, Xcode, and Browsers)</appendix>
      <identifier>custom.control_based_tab_manipulation</identifier>

      <only>
        TERMINAL,
        XCODE,
        {{ BROWSERS }}
      </only>

      <autogen>
        __KeyToKey__
        KeyCode::KEY_1, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_1, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_2, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_2, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_3, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_3, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_4, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_4, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_5, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_5, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_6, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_6, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_7, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_7, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_8, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_8, ModifierFlag::COMMAND_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::KEY_9, ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::KEY_9, ModifierFlag::COMMAND_L
      </autogen>
    </item>

    <!-- Finder: Use F2 to Rename files, and Return to open them. -->
    <item>
      <name>Finder: F2 to Rename, Return to Open</name>
      <appendix>Return to "Open" command</appendix>
      <appendix>F2 to "Rename" command</appendix>
      <appendix>+ pressing Return while renaming (via F2) saves the new name instead of opening</appendix>
      <identifier>custom.app_finder_keys</identifier>

      <only>FINDER</only>

      <autogen>
        __KeyToKey__
        KeyCode::F2,

        KeyCode::RETURN, KeyCode::VK_CONFIG_TOGGLE_notsave_app_finder_return_accepts_rename
      </autogen>

      <!-- Also make sure "Rename" work with the Brightness Up key. -->
      <autogen>
        __ConsumerToKey__
        ConsumerKeyCode::BRIGHTNESS_UP,

        KeyCode::RETURN, KeyCode::VK_CONFIG_TOGGLE_notsave_app_finder_return_accepts_rename
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::RETURN, ModifierFlag::NONE,

        KeyCode::O, ModifierFlag::COMMAND_L, Option::NOREPEAT
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::N,  ModifierFlag::COMMAND_L |  ModifierFlag::SHIFT_L,

        KeyCode::N, ModifierFlag::COMMAND_L |  ModifierFlag::SHIFT_L,
        KeyCode::VK_CONFIG_TOGGLE_notsave_app_finder_return_accepts_rename
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::N,  ModifierFlag::COMMAND_L |  ModifierFlag::SHIFT_R,

        KeyCode::N, ModifierFlag::COMMAND_L |  ModifierFlag::SHIFT_L,
        KeyCode::VK_CONFIG_TOGGLE_notsave_app_finder_return_accepts_rename
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::N,  ModifierFlag::COMMAND_R |  ModifierFlag::SHIFT_L,

        KeyCode::N, ModifierFlag::COMMAND_L |  ModifierFlag::SHIFT_L,
        KeyCode::VK_CONFIG_TOGGLE_notsave_app_finder_return_accepts_rename
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::N,  ModifierFlag::COMMAND_R |  ModifierFlag::SHIFT_R,

        KeyCode::N, ModifierFlag::COMMAND_L |  ModifierFlag::SHIFT_L,
        KeyCode::VK_CONFIG_TOGGLE_notsave_app_finder_return_accepts_rename
      </autogen>
    </item>

    <!-- Path Finder: Use F2 to Rename files. -->
    <item>
      <name>Path Finder: F2 to Rename</name>
      <appendix>F2 to "Rename" command</appendix>
      <identifier>custom.app_path_finder_keys</identifier>

      <autogen>
        __KeyToKey__
        KeyCode::F2,

        KeyCode::R,  ModifierFlag::COMMAND_R |  ModifierFlag::SHIFT_L,
      </autogen>
      <autogen>
        __ConsumerToKey__
        ConsumerKeyCode::BRIGHTNESS_UP,

        KeyCode::R,  ModifierFlag::COMMAND_R |  ModifierFlag::SHIFT_L,
      </autogen>
    </item>

    <item>
      <name>KeePassX: Copy Username and Password</name>
      <appendix>Ctrl + Option + C to Copy Username and Password</appendix>
      <appendix>Ctrl + B to Copy Username</appendix>
      <appendix>Ctrl + U to Open URL</appendix>
      <identifier>custom.app_keepassx_keys</identifier>

      <only>KEEPASSX</only>

      <!-- Copy username and password -->
      <autogen>
        __KeyToKey__
        KeyCode::C,
        ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,

        KeyCode::C, ModifierFlag::COMMAND_L,
        KeyCode::VK_WAIT_100MS,
        KeyCode::B, ModifierFlag::COMMAND_L
      </autogen>

      <!-- Copy Username -->
      <autogen>
        __KeyToKey__
        KeyCode::B,  ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::B, ModifierFlag::COMMAND_L
      </autogen>

      <!-- Open URL -->
      <autogen>
        __KeyToKey__
        KeyCode::U,  ModifierFlag::CONTROL_L | ModifierFlag::NONE,

        KeyCode::U, ModifierFlag::COMMAND_L
      </autogen>
    </item>
  </item>
</root>
